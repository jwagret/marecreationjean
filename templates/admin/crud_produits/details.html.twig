{% extends 'admin/admin/admin.html.twig' %}

{% block admin_section_main_2 %}
	<div class="table-responsive w-75 mt-5">
		<table class="table">
			<caption>Produit :

			</caption>
			<thead>
				<tr>
					<th scope="col">id</th>
					<th scope="col">Image</th>
					<th scope="col">Nom</th>
					<th scope="col">Référence</th>
					<th scope="col">Désignation</th>
					<th scope="col">Prix</th>
					<th scope="col">Stock</th>
					<th scope="col">Créé le</th>
					<th scope="col">Modifier le</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">{{ produit.id}}</th>
					{% for image in produit.images%}
						{% if loop.first %} {# si l'index est le 1er #}
							<td style="width: 10%">
								<div style="display: contents">
									<img width="100%" src="{{ asset('/images/produits/'~image.imageChemin ) }}" alt="{{ image.imageNom }}">
								</div>
							</td>
						{% endif %}
					{% endfor %}
					<td>{{ produit.ProduitNom }}</td>
					<td>{{ produit.ProduitReference }}</td>
					<td>{{ produit.ProduitDesignation }}</td>
					<td>{{produit.ProduitPrix  | number_format(2, ',', '.')}}€</td>
					<td></td>
					<td>{{ produit.dateCreation | date("d/m/Y") }}</td>
					{% if produit.dateModification != null %}
						<td>{{ produit.dateModification | date("d/m/Y") }}</td>
						{% else%}
						<td></td>
					{% endif %}
				</tr>
			</tbody>
		</table>
	</div>
{% endblock %}

{% block admin_section_main_2_2 %}

	<div class="d-flex flex-wrap w-75 mt-5">
		{% for image in produit.images%}
			<div class="card p-2 m-lg-2" style="width: 18rem;">
				<img class="card-img-top" src="{{ asset('/images/produits/'~image.imageChemin ) }}" alt="Card image cap">
				<div class="card-body">
					<span class="card-text">Nom: {{ image.ImageNom }}</span><br>
					<span class="card-text">Créé le: {{ image.dateCreation | date("d/m/Y")  }}</span>
				</div>
				<a class="btn btn-primary mt-3" href="{{ path('app_admin_crud_images_modifier_images', {'id': image.id}) }}" role="button" style="margin-left: 1vw">Modifier</a>
			</div>
		{% endfor %}
	</div>

{% endblock %}
